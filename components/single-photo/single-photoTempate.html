<div ng-repeat = "x in main.singlePhotoInstance">

  <!-- <p>
    inside single photo
  </p>
 <pre> x:
   {{x || JSON}}
 </pre> -->
 <div id = "{{x._id}}">
    <img  ng-src = {{'images/'+x.file_name}}>
    <p>creation date: {{x.date_time}}</p>
    <form ng-submit = "addComment()" method = "POST" >
      <input type="text" placeholder="enter new comment (120 chars.)" ng-model = "addComment.newComment" size = "120"><br>
      <md-button  id = "{{x._id}}"type = "submit" >add new comment</md-button>
   </form>
  <md-button ng-disabled="main.addToFavState" ng-click = "addToFavorties()">Add to favorites</md-button> <br>

  favored by the following users: 
  <div ng-repeat = "f in x.favrd_by">
    <ul>
      {{f.user}}
    </ul>
     
   </div> 

   <div ng-repeat = "c in x.comments">
     <p id = "{{x._id}}" >
       
        {{'comment: '+c.comment}} <br>
        {{'comment date: '+ c.date_time}} <br>
     </p>
     <a href="#!/users/{{c.user_id}}"> {{'comment posted by: '+c.user.first_name+' '+c.user.last_name}}</a>
   </div>
   <br>
  </div>
</div>